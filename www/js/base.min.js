var content = {
  resize: function(){
    $(".content_resize").css({"height":$(window).height()});
    return false;
  }
};
var subpage = {
  resize: function(){
    $("#subpage .subpage_resize").css({"height":$(window).height()});
    $("#subpage .subpage_ctrol").css({"height":$(window).height()});
    return false;
  },
  show: function(){
    var suboffset = $(".subpage_resize").width();
    var status = $("#subpage_button").data("status");
    if(status == "show"){
      $("#addfeed-panel").css("position","fixed");
      $("#subpage").animate({"left":"0px"},function(){
        $("#subpage_button").data("status","hide").html('<i class="icon-chevron-left"></i>');
      });
    } else if(status == "hide"){
      $("#addfeed-panel").css("position","absolute");
      $("#subpage").animate({"left":-suboffset},function(){
        $("#subpage_button").data("status","show").html('<i class="icon-chevron-right"></i>');
      });
    }
    return false;
  }
};
var tab = {
  show: function(id){
    var pid = $("#param_content_td").val();
    if(pid > 0){
      $("#tr-"+pid).find("td").removeClass("active");
    }
    $("#param_content_td").val(id);
    $("#tr-"+id).find("td").addClass("active");
    return false;
  },
  star: function(id){
    if($("#td-star-"+id).hasClass("td-star-e")){
      $("#td-star-"+id).removeClass("td-star-e").addClass("td-star-f");
    } else if($("#td-star-"+id).hasClass("td-star-f")){
      $("#td-star-"+id).removeClass("td-star-f").addClass("td-star-e");
    }
    return false;
  }
};
var feeds = {
  show: function(){
    if($("#param_feeds_div").val() == "show"){
      $("#param_feeds_div").val('hide');
      $("#feeds_show_icon").removeClass("icon-chevron-right").addClass("icon-chevron-down");
    } else if($("#param_feeds_div").val() == "hide"){
      $("#param_feeds_div").val('show');
      $("#feeds_show_icon").removeClass("icon-chevron-down").addClass("icon-chevron-right");
    }
    return false;
  }
};
$(function(){
  //resize
  content.resize();
  subpage.resize();
  $(window).resize(function(){
    subpage.resize();
  });
  //scroll
  $(window).scroll(function(){
    $("#subpage").css({"top":$(window).scrollTop()});
  });
  $("#subpage_button").click(function(){
    subpage.show();
  });
  //change td active
  $(".td-col").click(function(){
    var id = $(this).data("id");
    tab.show(id);
  });
  //change td star
  $(".td-star").click(function(){
    var id = $(this).data("id");
    tab.star(id);
  });
});